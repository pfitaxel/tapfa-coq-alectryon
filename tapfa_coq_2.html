<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Types Abstraits et Programmation Fonctionnelle Avanc√©e</title>
<meta name="date" content="L3 Info, Semestre 6, Ann√©e 2020-2021" />
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="tango_subtle.css" type="text/css" />
<link rel="stylesheet" href="tango_subtle.min.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<link rel="stylesheet" href="math.css" type="text/css" />
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.12.0+0.12.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><div class="document" id="types-abstraits-et-programmation-fonctionnelle-avancee">
<h1 class="title">Types Abstraits et Programmation Fonctionnelle Avanc√©e</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr class="auteurs field"><th class="docinfo-name">Auteurs:</th><td class="field-body">Jean-Paul Bodeveix (resp. UE), Erik Martin-Dorel, Pierre Roux</td>
</tr>
<tr><th class="docinfo-name">Date:</th>
<td>L3 Info, Semestre 6, Ann√©e 2020-2021</td></tr>
</tbody>
</table>
<input type="checkbox" class="alectryon-toggle" id="alectryon-toggle-0" /><label for="alectryon-toggle-0" class="alectryon-toggle-label">Display all goals and responses</label><div class="alectryon-container docutils container">
<p>Supports de ce cours :</p>
<ul class="simple">
<li><a class="reference external" href="https://pfitaxel.github.io/tapfa-coq-alectryon/">https://pfitaxel.github.io/tapfa-coq-alectryon/</a></li>
</ul>
<div class="section" id="principe">
<h1>Principe</h1>
<ul class="simple">
<li>Prouver une propri√©t√© <span class="formula"><i>P</i></span> <span class="formula">‚ÄÖ‚â°‚ÄÖ</span> Construire un terme de
type <span class="formula"><i>P</i></span>.</li>
</ul>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Parameters</span> (<span class="nv">p</span> : <span class="kt">Prop</span>) (<span class="nv">q</span> : <span class="kt">Prop</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk0"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">th</span> : p -&gt; (p -&gt; q) -&gt; q.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p -&gt; (p -&gt; q) -&gt; q</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p -&gt; (p -&gt; q) -&gt; q</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> (<span class="kr">fun</span> (<span class="nv">x</span> : p) (<span class="nv">f</span> : p -&gt; q) =&gt; f x).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><ul class="simple">
<li>Les tactiques aident √† la construction du terme de preuve:</li>
</ul>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk2"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">th&#39;</span> : p -&gt; (p -&gt; q) -&gt; q.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p -&gt; (p -&gt; q) -&gt; q</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p -&gt; (p -&gt; q) -&gt; q</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk4"><span class="highlight"><span class="kn">Print</span> th&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="highlight">th&#39; = 
<span class="kr">fun</span> (<span class="nv">H</span> : p) (<span class="nv">H0</span> : p -&gt; q) =&gt; H0 H
     : p -&gt; (p -&gt; q) -&gt; q

<span class="kn">Arguments</span> th&#39; _ _%function_scope</span></blockquote></div></div></small></span></pre></div>
<div class="section" id="les-principales-tactiques-de-preuve">
<h1>Les principales tactiques de preuve</h1>
<div class="section" id="la-tactique-intro-variante-intros-h-1-h-n">
<h2>La tactique intro (variante : intros H<span class="formula"><sub>1</sub></span> ‚Ä¶ H<span class="formula"><sub><i>n</i></sub></span>)</h2>
<pre class="code Coq literal-block">
<span class="name">h_1</span> <span class="operator">:</span> <span class="name">e_1</span>                       <span class="name">h_1</span> <span class="operator">:</span> <span class="name">e_1</span>
   <span class="operator">...</span>        <span class="operator">--&gt;</span> <span class="name builtin">intro</span> <span class="name">H</span> <span class="operator">--&gt;</span>      <span class="operator">...</span>
<span class="name">h_n</span> <span class="operator">:</span> <span class="name">e_n</span>                       <span class="name">h_n</span> <span class="operator">:</span> <span class="name">e_n</span>
<span class="operator">=========</span>                       <span class="name">H</span> <span class="operator">:</span> <span class="name">p</span>
<span class="name">p</span> <span class="operator">-&gt;</span> <span class="name">q</span>                          <span class="operator">=========</span>
                                <span class="name">q</span>


<span class="name">h_1</span> <span class="operator">:</span> <span class="name">e_1</span>                       <span class="name">h_1</span> <span class="operator">:</span> <span class="name">e_1</span>
   <span class="operator">...</span>        <span class="operator">--&gt;</span> <span class="name builtin">intro</span> <span class="name">x</span> <span class="operator">--&gt;</span>      <span class="operator">...</span>
<span class="name">h_n</span> <span class="operator">:</span> <span class="name">e_n</span>                       <span class="name">h_n</span> <span class="operator">:</span> <span class="name">e_n</span>
<span class="operator">============</span>                    <span class="name">x</span> <span class="operator">:</span> <span class="name">t</span>
<span class="keyword reserved">‚àÄ</span> <span class="name variable">x</span> <span class="operator">:</span> <span class="name">t</span><span class="operator">,</span> <span class="name">P</span> <span class="name">x</span>                    <span class="operator">=========</span>
                                <span class="name">P</span> <span class="name">x</span>
</pre>
<p>Cas d‚Äôutilisation de <code class="highlight coq"><span class="name builtin">intro</span></code></p>
<p>Lorsque le but est une implication ou une
quantification universelle <span class="formula">‚áù</span> introduction de l‚Äôhypoth√®se
dans le contexte</p>
</div>
<div class="section" id="preuve-dune-egalite">
<h2>Preuve d‚Äôune √©galit√©</h2>
<pre class="code Coq literal-block">
<span class="name">Œì</span>        <span class="operator">--&gt;</span> <span class="name builtin pseudo">reflexivity</span> <span class="operator">--&gt;</span>   <span class="operator">‚àÖ</span> <span class="name">si</span> <span class="name">t</span> <span class="operator">=</span> <span class="name">t'</span>
<span class="operator">======</span>
<span class="name">t</span> <span class="operator">=</span> <span class="name">t'</span>
</pre>
<p>Cas d‚Äôutilisation de <code class="highlight coq"><span class="name builtin pseudo">reflexivity</span></code></p>
<p>Lorsque le but est une √©galit√©
entre 2 termes identiques (modulo calcul) <span class="formula">‚áù</span> fin de la
preuve.</p>
<p>Exemple</p>
<pre class="code Coq literal-block">
<span class="name">Œì</span>          <span class="operator">--&gt;</span> <span class="name builtin pseudo">reflexivity</span> <span class="operator">--&gt;</span>   <span class="operator">‚àÖ</span> <span class="operator">(</span><span class="keyword namespace">Qed</span><span class="operator">)</span>
<span class="operator">=========</span>
<span class="literal number integer">1</span> <span class="operator">+</span> <span class="literal number integer">1</span> <span class="operator">=</span> <span class="literal number integer">2</span>
</pre>
</div>
<div class="section" id="reecriture-utilisation-dune-egalite">
<h2>R√©√©criture (utilisation d‚Äôune √©galit√©)</h2>
<p>Soit <tt class="docutils literal">E</tt> : <span class="formula"><i>t</i><sub>1</sub>‚ÄÖ=‚ÄÖ<i>t</i><sub>2</sub></span> un th√©or√®me ou une hypoth√®se du contexte
<span class="formula">Œì</span></p>
<pre class="code Coq literal-block">
<span class="name">Œì</span>     <span class="operator">--&gt;</span> <span class="name builtin">rewrite</span> <span class="name">E</span> <span class="operator">--&gt;</span>   <span class="name">Œì</span>
<span class="operator">====</span>                      <span class="operator">====</span>
<span class="name">P</span> <span class="name">t1</span>                      <span class="name">P</span> <span class="name">t2</span>


<span class="name">Œì</span>     <span class="operator">--&gt;</span> <span class="name builtin">rewrite</span> <span class="operator">&lt;-</span><span class="name">E</span> <span class="operator">--&gt;</span>   <span class="name">Œì</span>
<span class="operator">====</span>                        <span class="operator">====</span>
<span class="name">P</span> <span class="name">t2</span>                        <span class="name">P</span> <span class="name">t1</span>


<span class="name">Œì</span>                                   <span class="name">Œì</span>
<span class="name">H</span> <span class="operator">:</span> <span class="name">P</span> <span class="name">t1</span>   <span class="operator">--&gt;</span> <span class="name builtin">rewrite</span> <span class="name">E</span> <span class="keyword reserved">in</span> <span class="name">H</span> <span class="operator">--&gt;</span>   <span class="name">H</span> <span class="operator">:</span> <span class="name">P</span> <span class="name">t2</span>
<span class="operator">========</span>                            <span class="operator">========</span>
<span class="name">G</span>                                   <span class="name">G</span>


<span class="name">Œì</span>                                     <span class="name">Œì</span>
<span class="name">H</span> <span class="operator">:</span> <span class="name">P</span> <span class="name">t2</span>   <span class="operator">--&gt;</span> <span class="name builtin">rewrite</span> <span class="operator">&lt;-</span><span class="name">E</span> <span class="keyword reserved">in</span> <span class="name">H</span> <span class="operator">--&gt;</span>   <span class="name">H</span> <span class="operator">:</span> <span class="name">P</span> <span class="name">t1</span>
<span class="operator">========</span>                              <span class="operator">========</span>
<span class="name">G</span>                                     <span class="name">G</span>
</pre>
</div>
<div class="section" id="reecriture-cas-general-ou-le-theoreme-e-a-des-conditions">
<h2>R√©√©criture (cas g√©n√©ral o√π le th√©or√®me <tt class="docutils literal">E</tt> a des conditions)</h2>
<p>Soit
<span class="formula"><tt>E</tt> : ‚àÄ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>,‚ÄÖ‚ÄÖ‚àí‚ÄÖ<i>p</i><sub>1</sub>‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>‚ÄÖ‚Üí‚ÄÖ‚ãØ‚ÄÖ‚Üí‚ÄÖ<i>p</i><sub><i>n</i></sub>‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>‚ÄÖ‚Üí‚ÄÖ<i>t</i>‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>‚ÄÖ=‚ÄÖ<i>t</i>‚Äô‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub></span>
un th√©or√®me ou une hypoth√®se du contexte <span class="formula">Œì</span></p>
<pre class="code Coq literal-block">
<span class="name">Œì</span>                 <span class="operator">--&gt;</span> <span class="name builtin">rewrite</span> <span class="name">E</span> <span class="operator">--&gt;</span>   <span class="name">Œì</span>
<span class="operator">===============</span>                       <span class="operator">================</span>
<span class="name">P</span> <span class="operator">(</span><span class="name">t</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span><span class="operator">)</span>                       <span class="name">P</span> <span class="operator">(</span><span class="name">t'</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span><span class="operator">)</span>

                                      <span class="name">Œì</span>
                                      <span class="operator">============</span>
                                      <span class="name">p1</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span>

                                      <span class="operator">...</span>

                                      <span class="name">Œì</span>
                                      <span class="operator">============</span>
                                      <span class="name">pn</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span>

                                      <span class="comment">(* n conditions requises par le th√©or√®me E *)</span>
</pre>
</div>
<div class="section" id="reecriture-exemple-avec-une-condition">
<h2>R√©√©criture (exemple avec une condition)</h2>
<pre class="code Coq literal-block">
<span class="name">pred</span> <span class="operator">:</span> <span class="name">nat</span> <span class="operator">-&gt;</span> <span class="name">nat</span>                             <span class="name">pred</span> <span class="operator">:</span> <span class="name">nat</span> <span class="operator">-&gt;</span> <span class="name">nat</span>
<span class="name">E</span> <span class="operator">:</span> <span class="keyword reserved">‚àÄ</span> <span class="name variable">x</span> <span class="operator">:</span> <span class="name">nat</span><span class="operator">,</span> <span class="name">O</span> <span class="operator">&lt;</span> <span class="name">x</span> <span class="operator">-&gt;</span>                       <span class="name">E</span> <span class="operator">:</span> <span class="keyword reserved">‚àÄ</span> <span class="name variable">x</span> <span class="operator">:</span> <span class="name">nat</span><span class="operator">,</span> <span class="name">O</span> <span class="operator">&lt;</span> <span class="name">x</span> <span class="operator">-&gt;</span>
    <span class="name">S</span> <span class="operator">(</span><span class="name">pred</span> <span class="name">x</span><span class="operator">)</span> <span class="operator">=</span> <span class="name">x</span>                                <span class="name">S</span> <span class="operator">(</span><span class="name">pred</span> <span class="name">x</span><span class="operator">)</span> <span class="operator">=</span> <span class="name">x</span>
<span class="name">n</span> <span class="operator">:</span> <span class="name">nat</span>                   <span class="operator">--&gt;</span> <span class="name builtin">rewrite</span> <span class="name">E</span> <span class="operator">--&gt;</span>   <span class="name">n</span> <span class="operator">:</span> <span class="name">nat</span>
<span class="operator">=======================</span>                       <span class="operator">=======================</span>
<span class="name">S</span> <span class="operator">(</span><span class="name">pred</span> <span class="operator">(</span><span class="literal number integer">2</span> <span class="operator">*</span> <span class="operator">(</span><span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">1</span><span class="operator">)))</span>                        <span class="literal number integer">2</span> <span class="operator">*</span> <span class="operator">(</span><span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="literal number integer">2</span> <span class="operator">*</span> <span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">2</span>
<span class="operator">=</span> <span class="literal number integer">2</span> <span class="operator">*</span> <span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">2</span>
                                              <span class="name">pred</span> <span class="operator">:</span> <span class="name">nat</span> <span class="operator">-&gt;</span> <span class="name">nat</span>
                                              <span class="name">E</span> <span class="operator">:</span> <span class="keyword reserved">‚àÄ</span> <span class="name variable">x</span> <span class="operator">:</span> <span class="name">nat</span><span class="operator">,</span> <span class="name">O</span> <span class="operator">&lt;</span> <span class="name">x</span> <span class="operator">-&gt;</span>
                                                  <span class="name">S</span> <span class="operator">(</span><span class="name">pred</span> <span class="name">x</span><span class="operator">)</span> <span class="operator">=</span> <span class="name">x</span>
                                              <span class="name">n</span> <span class="operator">:</span> <span class="name">nat</span>
                                              <span class="operator">===============</span>
                                              <span class="name">O</span> <span class="operator">&lt;</span> <span class="literal number integer">2</span> <span class="operator">*</span> <span class="operator">(</span><span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">1</span><span class="operator">)</span>
</pre>
</div>
<div class="section" id="la-tactique-apply-variante-apply-h-with-x-i-v-i">
<h2>La tactique <code class="highlight coq"><span class="name builtin">apply</span></code> (variante&nbsp;: <code class="highlight coq"><span class="name builtin">apply</span> <span class="name">H</span> <span class="keyword reserved">with</span> <span class="operator">(</span><span class="name">x_i</span><span class="operator">:=</span><span class="name">v_i</span></code>) ‚Ä¶)</h2>
<p>Soit <tt class="docutils literal">H</tt> :
<span class="formula">‚àÄ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>,‚ÄÖ‚ÄÖ‚àí‚ÄÖ<i>p</i><sub>1</sub>‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>‚ÄÖ‚Üí‚ÄÖ‚ãØ‚ÄÖ‚Üí‚ÄÖ<i>p</i><sub><i>n</i></sub>‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub>‚ÄÖ‚Üí‚ÄÖ<i>q</i>‚ÄÖ‚àí‚ÄÖ<i>x</i><sub>1</sub>‚Ä¶<i>x</i><sub><i>k</i></sub></span>
un th√©or√®me ou une hypoth√®se du contexte <span class="formula">Œì</span></p>
<pre class="code Coq literal-block">
<span class="name">Œì</span>             <span class="operator">--&gt;</span> <span class="name builtin">apply</span> <span class="name">H</span> <span class="operator">--&gt;</span>   <span class="name">Œì</span>
<span class="operator">===========</span>                     <span class="operator">============</span>
<span class="name">q</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span>                     <span class="name">p1</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span>

                                <span class="operator">...</span>

                                <span class="name">Œì</span>
                                <span class="operator">============</span>
                                <span class="name">pn</span> <span class="name">u1</span> <span class="operator">...</span> <span class="name">uk</span>
</pre>
</div>
<div class="section" id="la-tactique-apply-exemple">
<h2>La tactique apply (exemple)</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk5"><span class="highlight"><span class="kn">Search</span> concl:(_ &lt;= _) S.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="highlight">le_S: <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n &lt;= m -&gt; n &lt;= S m</span></blockquote><blockquote class="alectryon-message"><span class="highlight">le_n_S: <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n &lt;= m -&gt; S n &lt;= S m</span></blockquote><blockquote class="alectryon-message"><span class="highlight">le_S_n: <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, S n &lt;= S m -&gt; n &lt;= m</span></blockquote></div></div></small></span></pre><p>(<a class="reference external" href="https://coq.github.io/doc/V8.12.2/refman/proof-engine/vernacular-commands.html#coq:cmd.search">documentation de la commande Search</a>)</p>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk6"><span class="highlight"><span class="kn">Goal</span> <span class="kr">forall</span> <span class="nv">n</span>, n &lt;= S (S n).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;= S (S n)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;= S (S n)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk8"><span class="highlight"><span class="nb">intro</span> n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt;= S (S n)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk9"><span class="highlight"><span class="kn">Check</span> le_S.  <span class="c">(* r√©affichons le lemme le_S, juste pour rappel *)</span></span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="highlight">le_S
     : <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n &lt;= m -&gt; n &lt;= S m</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt;= S (S n)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chka"><span class="highlight"><span class="nb">apply</span> le_S.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt;= S n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Abort</span>.</span></span></span></pre></div>
<div class="section" id="la-tactique-induction-applique-le-theoreme-dinduction">
<h2>La tactique induction : applique le th√©or√®me d‚Äôinduction</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chkb"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">add_comm</span> : <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m + n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m + n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chkc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m + n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chkd"><span class="highlight"><span class="nb">induction</span> n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> : nat, <span class="mi">0</span> + m = m + <span class="mi">0</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="tapfa-coq-2-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> : nat, n + m = m + n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="tapfa-coq-2-v-chke"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> : nat, S n + m = m + S n</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Abort</span>.</span></span></span></pre></div>
<div class="section" id="la-tactique-destruct-preuve-par-cas">
<h2>La tactique destruct : preuve par cas</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chkf"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">addn1_neq0</span> : <span class="kr">forall</span> <span class="nv">n</span> : nat, n + <span class="mi">1</span> &lt;&gt; <span class="mi">0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, n + <span class="mi">1</span> &lt;&gt; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk10"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, n + <span class="mi">1</span> &lt;&gt; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk11"><span class="highlight"><span class="nb">destruct</span> n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> + <span class="mi">1</span> &lt;&gt; <span class="mi">0</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="tapfa-coq-2-v-chk12" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="tapfa-coq-2-v-chk12"><hr></label><div class="goal-conclusion"><span class="highlight">S n + <span class="mi">1</span> &lt;&gt; <span class="mi">0</span></span></div></blockquote></div></div></div></small></span></pre></div>
<div class="section" id="la-tactique-simpl-simplification-du-but">
<h2>La tactique simpl : simplification du but</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk13"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;&gt; <span class="mi">0</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="tapfa-coq-2-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="tapfa-coq-2-v-chk14"><hr></label><div class="goal-conclusion"><span class="highlight">S n + <span class="mi">1</span> &lt;&gt; <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Abort</span>.</span></span></span></pre></div>
<div class="section" id="detail-reduction-des-expressions-0-n-1-n-n-0-n-1">
<h2>D√©tail : r√©duction des expressions <code class="highlight coq"><span class="literal number integer">0</span><span class="operator">+</span><span class="name">n</span></code>, <code class="highlight coq"><span class="literal number integer">1</span><span class="operator">+</span><span class="name">n</span></code>, <code class="highlight coq"><span class="name">n</span><span class="operator">+</span><span class="literal number integer">0</span></code>, <code class="highlight coq"><span class="name">n</span><span class="operator">+</span><span class="literal number integer">1</span></code></h2>
<p>√âtant donn√©e que la fonction <code class="highlight coq"><span class="operator">(</span><span class="keyword reserved">fun</span> <span class="name variable">a</span> <span class="name variable">b</span> <span class="operator">:</span> <span class="name">nat</span> <span class="operator">=&gt;</span> <span class="name">a</span> <span class="operator">+</span> <span class="name">b</span><span class="operator">)</span></code> est
d√©finie r√©cursivement par rapport √† son premier argument :</p>
<ul>
<li><p class="first"><code class="highlight coq"><span class="literal number integer">0</span> <span class="operator">+</span> <span class="name">n</span></code> se r√©duit par calcul √† <code class="highlight coq"><span class="name">n</span></code></p>
</li>
<li><p class="first"><code class="highlight coq"><span class="literal number integer">1</span> <span class="operator">+</span> <span class="name">n</span></code> se r√©duit par calcul √† <code class="highlight coq"><span class="name">S</span> <span class="name">n</span></code></p>
</li>
<li><p class="first"><span class="formula">‚áù</span> donc on peut prouver trivialement <code class="highlight coq"><span class="literal number integer">1</span> <span class="operator">+</span> <span class="name">n</span> <span class="operator">=</span> <span class="name">S</span> <span class="name">n</span></code> (par r√©flexivit√©)</p>
</li>
<li><p class="first">mais <strong>on a besoin d‚Äôune preuve par induction</strong> pour montrer que</p>
<pre class="code Coq literal-block">
<span class="keyword reserved">‚àÄ</span> <span class="name variable">n</span> <span class="operator">:</span> <span class="name">nat</span><span class="operator">,</span> <span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">0</span> <span class="operator">=</span> <span class="name">n</span>
<span class="keyword reserved">‚àÄ</span> <span class="name variable">n</span> <span class="operator">:</span> <span class="name">nat</span><span class="operator">,</span> <span class="name">n</span> <span class="operator">+</span> <span class="literal number integer">1</span> <span class="operator">=</span> <span class="name">S</span> <span class="name">n</span>
</pre>
</li>
</ul>
<p>Autres tactiques Autres tactiques non d√©taill√©es dans ces transparents :</p>
<ul class="simple">
<li><code class="highlight coq"><span class="name builtin pseudo">exact</span></code></li>
<li><code class="highlight coq"><span class="name builtin">symmetry</span></code>, <code class="highlight coq"><span class="name builtin">transitivity</span></code></li>
<li><code class="highlight coq"><span class="name builtin">constructor</span></code>, <code class="highlight coq"><span class="name builtin">split</span></code>, <code class="highlight coq"><span class="name builtin">left</span></code>, <code class="highlight coq"><span class="name builtin">right</span></code>, <code class="highlight coq"><span class="keyword reserved">exists</span></code>,
<code class="highlight coq"><span class="name builtin pseudo">discriminate</span></code>, <code class="highlight coq"><span class="name builtin">injection</span></code></li>
<li><code class="highlight coq"><span class="name builtin">unfold</span></code></li>
<li><code class="highlight coq"><span class="name builtin pseudo">lia</span></code> (Linear Integer Arithmetic), <code class="highlight coq"><span class="name builtin pseudo">tauto</span></code>, <code class="highlight coq"><span class="name builtin">firstorder</span></code></li>
</ul>
<p>Pour plus de d√©tails, voir l‚ÄôAide-m√©moire des tactiques de preuve Coq</p>
</div>
</div>
<div class="section" id="exemples-et-exercices-autour-des-listes">
<h1>Exemples et exercices autour des listes</h1>
<div class="section" id="preliminaires">
<h2>Pr√©liminaires</h2>
<p>Pour charger la biblioth√®que des listes (et les notations
√† la OCaml) puis activer les arguments implicites pour vos d√©finitions,
ajoutez au d√©but de votre fichier :</p>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> List.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Import</span> ListNotations.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Set Implicit Arguments</span>.</span></span></span></pre></div>
<div class="section" id="quelques-preuves-de-theoremes-de-la-stdlib-sur-les-listes">
<h2>Quelques preuves (de th√©or√®mes de la stdlib) sur les listes</h2>
<p><strong>But</strong> Prouver que la double inversion d‚Äôune liste renvoie la liste
inchang√©e :</p>
<pre class="code Coq literal-block">
<span class="keyword reserved">‚àÄ</span> <span class="name variable">T</span> <span class="operator">(</span><span class="name variable">l</span> <span class="operator">:</span> <span class="name">list</span> <span class="name">T</span><span class="operator">),</span> <span class="name">rev</span> <span class="operator">(</span><span class="name">rev</span> <span class="name">l</span><span class="operator">)</span> <span class="operator">=</span> <span class="name">l</span>
</pre>
<p>La fonction <code class="highlight coq"><span class="name">List</span><span class="operator">.</span><span class="name">rev</span></code> est d√©finie comme suit :</p>
<pre class="code Coq literal-block">
<span class="keyword namespace">Fixpoint</span> <span class="name function">rev</span> <span class="operator">(</span><span class="name variable">T</span> <span class="operator">:</span> <span class="keyword type">Type</span><span class="operator">)</span> <span class="operator">(</span><span class="name variable">l</span> <span class="operator">:</span> <span class="name">list</span> <span class="name">T</span><span class="operator">)</span> <span class="operator">:=</span>
  <span class="keyword reserved">match</span> <span class="name">l</span> <span class="keyword reserved">with</span>
  <span class="operator">|</span> <span class="operator">[]</span> <span class="operator">=&gt;</span> <span class="operator">[]</span>
  <span class="operator">|</span> <span class="name">x</span> <span class="operator">::</span> <span class="name">l</span><span class="operator">‚Äô</span> <span class="operator">=&gt;</span> <span class="name">rev</span> <span class="name">l</span><span class="operator">‚Äô</span> <span class="operator">++</span> <span class="operator">[</span><span class="name">x</span><span class="operator">]</span>
  <span class="keyword reserved">end</span><span class="operator">.</span>
</pre>
<p>o√π <code class="highlight coq"><span class="operator">++</span></code> est une notation Coq qui √©quivaut √† <tt class="docutils literal">&#64;</tt> en OCaml.</p>
<p><strong>M√©thode</strong> On part du th√©or√®me √† prouver et on identifie au fur et √†
mesure les lemmes interm√©diaires qui m√©ritent d‚Äô√™tre prouv√©s √† part.</p>
</div>
<div class="section" id="premier-lemme">
<h2>Premier lemme</h2>
<p>Prouver (par induction sur la liste <code class="highlight coq"><span class="name">l1</span></code>) que l‚Äôon a :</p>
<pre class="code Coq literal-block">
<span class="keyword namespace">Lemma</span> <span class="name function">app_nil</span> <span class="operator">:</span> <span class="keyword reserved">forall</span> <span class="operator">(</span><span class="name variable">T</span> <span class="operator">:</span> <span class="keyword type">Type</span><span class="operator">)</span> <span class="operator">(</span><span class="name variable">l</span> <span class="operator">:</span> <span class="name">list</span> <span class="name">T</span><span class="operator">),</span> <span class="name">l</span> <span class="operator">=</span> <span class="name">l</span> <span class="operator">++</span> <span class="operator">[].</span>
</pre>
<p>Rappel: la fonction <code class="highlight coq"><span class="operator">(</span><span class="keyword reserved">fun</span> <span class="name variable">l1</span> <span class="name variable">l2</span> <span class="operator">=&gt;</span> <span class="name">l1</span> <span class="operator">++</span> <span class="name">l2</span><span class="operator">)</span></code> est d√©finie comme suit :</p>
<pre class="code Coq literal-block">
<span class="keyword namespace">Fixpoint</span> <span class="name function">app</span> <span class="operator">(</span><span class="name variable">T</span> <span class="operator">:</span> <span class="keyword type">Type</span><span class="operator">)</span> <span class="operator">(</span><span class="name variable">l1</span> <span class="name variable">l2</span> <span class="operator">:</span> <span class="name">list</span> <span class="name">T</span><span class="operator">)</span> <span class="operator">:=</span>
  <span class="keyword reserved">match</span> <span class="name">l1</span> <span class="keyword reserved">with</span>
  <span class="operator">|</span> <span class="operator">[]</span> <span class="operator">=&gt;</span> <span class="name">l2</span>
  <span class="operator">|</span> <span class="name">x1</span> <span class="operator">::</span> <span class="name">l1</span> <span class="operator">=&gt;</span> <span class="name">x1</span> <span class="operator">::</span> <span class="name">app</span> <span class="name">l1</span> <span class="name">l2</span>
  <span class="keyword reserved">end</span><span class="operator">.</span>
</pre>
<p>Sauriez vous l'√©crire en OCaml ?</p>
</div>
<div class="section" id="premier-lemme-preuve-par-induction">
<h2>Premier lemme ‚Äì preuve par induction</h2>
<p>√Ä la main :</p>
<p>Prouvons le lemme <code class="highlight coq"><span class="name">app_nil</span></code> par induction structurelle sur la liste <code class="highlight coq"><span class="name">l</span></code>.</p>
<ul class="simple">
<li>Si <code class="highlight coq"><span class="name">l</span></code> est la liste vide <code class="highlight coq"><span class="operator">[]</span></code>, on a bien <code class="highlight coq"><span class="operator">[]</span> <span class="operator">=</span> <span class="operator">[]</span> <span class="operator">++</span> <span class="operator">[]</span></code>
en simplifiant la d√©finition de <code class="highlight coq"><span class="name">app</span></code>.</li>
<li>Sinon, <code class="highlight coq"><span class="name">l</span></code> est de la forme <code class="highlight coq"><span class="name">x</span> <span class="operator">::</span> <span class="name">l'</span></code>. En supposant que <code class="highlight coq"><span class="name">l'</span> <span class="operator">=</span> <span class="name">l'</span> <span class="operator">++</span> <span class="operator">[]</span></code>
(appelons cette hypoth√®se d'induction <code class="highlight coq"><span class="name">IHl</span></code>), montrons que
<code class="highlight coq"><span class="name">x</span> <span class="operator">::</span> <span class="name">l'</span> <span class="operator">=</span> <span class="operator">(</span><span class="name">x</span> <span class="operator">::</span> <span class="name">l'</span><span class="operator">)</span> <span class="operator">++</span> <span class="operator">[]</span></code>. En simplifiant la d√©finition de <code class="highlight coq"><span class="name">app</span></code>
on doit donc prouver que <code class="highlight coq"><span class="name">x</span> <span class="operator">::</span> <span class="name">l'</span> <span class="operator">=</span> <span class="name">x</span> <span class="operator">::</span> <span class="operator">(</span><span class="name">l'</span> <span class="operator">++</span> <span class="operator">[])</span></code>, soit en appliquant
<code class="highlight coq"><span class="name">IHl</span></code>, que <code class="highlight coq"><span class="name">x</span> <span class="operator">::</span> <span class="name">l'</span> <span class="operator">=</span> <span class="name">x</span> <span class="operator">::</span> <span class="name">l'</span></code>.</li>
</ul>
<p>En Coq :</p>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk15"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">app_nil</span> : <span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), l = l ++ [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), l = l ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk16"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), l = l ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk17"><span class="highlight"><span class="nb">induction</span> l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[] = [] ++ []</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="tapfa-coq-2-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="tapfa-coq-2-v-chk18"><hr></label><div class="goal-conclusion"><span class="highlight">a :: l = (a :: l) ++ []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk19"><span class="highlight">{ <span class="c">(* accolades conseill√©es pour d√©limiter les preuves du sous but *)</span></span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[] = [] ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1a"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[] = []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1b"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: l = (a :: l) ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1c"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: l = a :: l ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1d"><span class="highlight"><span class="nb">rewrite</span> &lt;- IHl. <span class="c">(* utilise l‚Äôhypoth√®se d‚Äôinduction *)</span></span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: l = a :: l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><p>Pour appliquer <code class="highlight coq"><span class="name builtin">simpl</span></code> √† chaque sous-but g√©n√©r√© il suffit d‚Äô√©crire
la tactique une fois apr√®s &quot;;&quot;</p>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">app_nil&#39;</span> : <span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), l = l ++ [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), l = l ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk1f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), l = l ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk20"><span class="highlight"><span class="nb">induction</span> l; <span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[] = []</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="tapfa-coq-2-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="tapfa-coq-2-v-chk21"><hr></label><div class="goal-conclusion"><span class="highlight">a :: l = a :: l ++ []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk22"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[] = []</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk23"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: l = a :: l ++ []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk24"><span class="highlight"><span class="nb">rewrite</span> &lt;- IHl. <span class="c">(* utilise l‚Äôhypoth√®se d‚Äôinduction *)</span></span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l ++ []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: l = a :: l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre></div>
<div class="section" id="deuxieme-lemme">
<h2>Deuxi√®me lemme</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk25"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">app_assoc</span> :
  <span class="kr">forall</span> <span class="nv">T</span> (<span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list T), l1 ++ (l2 ++ l3) = (l1 ++ l2) ++ l3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list T),
l1 ++ l2 ++ l3 = (l1 ++ l2) ++ l3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk26"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list T),
l1 ++ l2 ++ l3 = (l1 ++ l2) ++ l3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk27"><span class="highlight"><span class="nb">induction</span> l1; <span class="nb">simpl</span>; <span class="nb">intros</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l2</span> <span class="nv">l3</span> : list T,
l1 ++ l2 ++ l3 = (l1 ++ l2) ++ l3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: l1 ++ l2 ++ l3 = a :: (l1 ++ l2) ++ l3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk28"><span class="highlight"><span class="nb">rewrite</span> IHl1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l2</span> <span class="nv">l3</span> : list T,
l1 ++ l2 ++ l3 = (l1 ++ l2) ++ l3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a :: (l1 ++ l2) ++ l3 = a :: (l1 ++ l2) ++ l3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><p><code class="highlight coq"><span class="name builtin">auto</span></code> essaie d‚Äôappliquer r√©cursivement les hypoth√®ses
(et certains lemmes standard, comme la r√©flexivit√©)
pour prouver le sous-but ; sinon la tactique ne fait rien.</p>
</div>
<div class="section" id="troisieme-lemme">
<h2>Troisi√®me lemme</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk29"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">rev_app_distr</span> :
  <span class="kr">forall</span> <span class="nv">T</span> (<span class="nv">l1</span> <span class="nv">l2</span> : list T), rev (l1 ++ l2) = rev l2 ++ rev l1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l1</span> <span class="nv">l2</span> : list T),
rev (l1 ++ l2) = rev l2 ++ rev l1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk2a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l1</span> <span class="nv">l2</span> : list T),
rev (l1 ++ l2) = rev l2 ++ rev l1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk2b"><span class="highlight"><span class="nb">induction</span> l1; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rev l2 = rev l2 ++ []</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="tapfa-coq-2-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l2</span> : list T,
rev (l1 ++ l2) = rev l2 ++ rev l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="tapfa-coq-2-v-chk2c"><hr></label><div class="goal-conclusion"><span class="highlight">rev (l1 ++ l2) ++ [a] = rev l2 ++ rev l1 ++ [a]</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk2d"><span class="highlight"><span class="nb">apply</span> app_nil.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l2</span> : list T,
rev (l1 ++ l2) = rev l2 ++ rev l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rev (l1 ++ l2) ++ [a] = rev l2 ++ rev l1 ++ [a]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk2e"><span class="highlight"><span class="nb">rewrite</span> IHl1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l2</span> : list T,
rev (l1 ++ l2) = rev l2 ++ rev l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(rev l2 ++ rev l1) ++ [a] = rev l2 ++ rev l1 ++ [a]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk2f"><span class="highlight"><span class="nb">rewrite</span> app_assoc.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l2</span> : list T,
rev (l1 ++ l2) = rev l2 ++ rev l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list T</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(rev l2 ++ rev l1) ++ [a] = (rev l2 ++ rev l1) ++ [a]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre></div>
<div class="section" id="le-theoreme-vise">
<h2>Le th√©or√®me vis√©</h2>
<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk30"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">rev_involutive</span> : <span class="kr">forall</span> <span class="nv">T</span> (<span class="nv">l</span> : list T), rev (rev l) = l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), rev (rev l) = l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="tapfa-coq-2-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="tapfa-coq-2-v-chk31"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">T</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list T), rev (rev l) = l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* TODO *)</span>
<span class="c">(* Qed. *)</span></span></span></pre></div>
</div>
</div>
</div>
</div></body>
</html>
